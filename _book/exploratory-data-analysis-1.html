<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 4 Exploratory Data Analysis | Uncovering Data Science with R</title>
<meta name="generator" content="bookdown 0.37 with bs4_book()">
<meta property="og:title" content="Chapter 4 Exploratory Data Analysis | Uncovering Data Science with R">
<meta property="og:type" content="book">
<meta property="og:url" content="https://uncovering-data-science.netlify.app/exploratory-data-analysis-1.html">
<meta property="og:image" content="https://uncovering-data-science.netlify.app/images/cover.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 4 Exploratory Data Analysis | Uncovering Data Science with R">
<meta name="twitter:image" content="https://uncovering-data-science.netlify.app/images/cover.jpg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.5.1/transition.js"></script><script src="libs/bs3compat-0.5.1/tabs.js"></script><script src="libs/bs3compat-0.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
          margin-bottom: 0em;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
<meta name="description" content="Exploratory data analysis (EDA) is an approach to analyzing data to summarize their main characteristics, often with visual methods. For examples: Examining important inter-relationships between...">
<meta property="og:description" content="Exploratory data analysis (EDA) is an approach to analyzing data to summarize their main characteristics, often with visual methods. For examples: Examining important inter-relationships between...">
<meta name="twitter:description" content="Exploratory data analysis (EDA) is an approach to analyzing data to summarize their main characteristics, often with visual methods. For examples: Examining important inter-relationships between...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Uncovering Data Science with R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="the-basics-for-r.html"><span class="header-section-number">1</span> The Basics for R</a></li>
<li><a class="" href="intro-DS.html"><span class="header-section-number">2</span> Introduction to Data Science</a></li>
<li><a class="" href="data-cleaning.html"><span class="header-section-number">3</span> Data Cleaning</a></li>
<li><a class="active" href="exploratory-data-analysis-1.html"><span class="header-section-number">4</span> Exploratory Data Analysis</a></li>
<li><a class="" href="statistical-inference-and-hypothesis-testing.html"><span class="header-section-number">5</span> Statistical Inference and Hypothesis Testing</a></li>
<li><a class="" href="modeling-process.html"><span class="header-section-number">6</span> Modeling Process</a></li>
<li><a class="" href="k-nearest-neighbors.html"><span class="header-section-number">7</span> K-Nearest Neighbors</a></li>
<li><a class="" href="model-evaluation.html"><span class="header-section-number">8</span> Model Evaluation</a></li>
<li><a class="" href="naive-bayes-classifier.html"><span class="header-section-number">9</span> Naive Bayes Classifier</a></li>
<li><a class="" href="regression-modelling.html"><span class="header-section-number">10</span> Regression Modelling</a></li>
<li><a class="" href="decision-trees-and-random-forests.html"><span class="header-section-number">11</span> Decision Trees and Random Forests</a></li>
<li><a class="" href="neural-networks.html"><span class="header-section-number">12</span> Neural Networks</a></li>
<li><a class="" href="cluster-analysis.html"><span class="header-section-number">13</span> Cluster Analysis</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/RezaMoammadi/Book-Data-Science">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="exploratory-data-analysis-1" class="section level1" number="4">
<h1>
<span class="header-section-number">4</span> Exploratory Data Analysis<a class="anchor" aria-label="anchor" href="#exploratory-data-analysis-1"><i class="fas fa-link"></i></a>
</h1>
<p>Exploratory data analysis (EDA) is an approach to analyzing data to summarize their main characteristics, often with visual methods. For examples:</p>
<ul>
<li>Examining important inter-relationships between attributes.</li>
<li>Developing an initial idea of possible associations amongst the predictors, as well as between the predictors and the target variable.</li>
</ul>
<p>Note that the EDA is not a formal hypothesis testing or model-building stage, but rather a way to explore the data and generate hypotheses. EDA is a crucial step in the data analysis process. It allows us to understand the data, discover patterns, and identify relationships between variables with out using any formal statistical methods.</p>
<p>Exploratory Data Analysis is useful to effectively tell a story with data. Data storytelling is the process of creating a story out of data. It is a structured approach for communicating data insights that involves a combination of data, visuals, and narrative. Most of the scientific reports and news agencies use data storytelling to communicate the data insights to the public. For example, the following Figure <a href="exploratory-data-analysis-1.html#fig:EDA-fig-1">4.1</a> reports the data storytelling of the global mean surface temperature history over the Common Era; This image is taken from <span class="citation">Raphael Neukom et al.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;&lt;span&gt;“Consistent Multi-Decadal Variability in Global Temperature Reconstructions and Simulations over the Common Era,”&lt;/span&gt; &lt;em&gt;Nature Geoscience&lt;/em&gt; 12, no. 8 (2019): 643.&lt;/p&gt;"><sup>3</sup></a></span></p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:EDA-fig-1"></span>
<img src="images/EDA_fig_1.png" alt="Global mean surface temperature history over the Common Era. Temperature anomalies with respect to 1961–1990 CE. The coloured lines represent 30 yr low-pass-filtered ensemble medians for the individual reconstruction methods." width="100%"><p class="caption">
Figure 4.1: Global mean surface temperature history over the Common Era. Temperature anomalies with respect to 1961–1990 CE. The coloured lines represent 30 yr low-pass-filtered ensemble medians for the individual reconstruction methods.
</p>
</div>
<p>Students usually need these approaches to understand the data and making a story out of it for their projects (for their MSc thesis or BSc thesis). Scientist need this approaches and use them (like myself) for their scientific publications. Here, we use the <em>churn</em> dataset to illustrate the EDA process.</p>
<div id="getting-to-know-that-data-set" class="section level2" number="4.1">
<h2>
<span class="header-section-number">4.1</span> Getting to know that data set<a class="anchor" aria-label="anchor" href="#getting-to-know-that-data-set"><i class="fas fa-link"></i></a>
</h2>
<p>Customer Churn is a topic that matters to organizations of all sizes. Customer churn occurs when customers stop doing business with a company, also known as customer attrition. Churn (loss of customers to competition) is a major problem for telecom companies because it is well known that it is more expensive to acquire a new customer than to keep an existing customer. Here, we use Exploratory Data Analysis to explore the <em>churn</em> dataset. Basically, we want to visualize and identify which factors contribute to customer churn.</p>
<p><strong>Dataset</strong>: The <em>churn</em> data set is available in the <strong>R</strong> package <a href="https://CRAN.R-project.org/package=liver"><em>liver</em></a>. The data set contains ‘5000’ rows (customers) and 20 columns (features). The last column called <em>churn</em> is the target variable which indicates whether customers churned (left the company) or not. If you want to know more about the dataset just type <code><a href="https://rdrr.io/pkg/liver/man/churn.html">?churn</a></code> in your <strong>R</strong> console. You also can find more information about this dataset <a href="https://rdrr.io/cran/liver/man/churn.html">here</a>.</p>
<p>Here we need to load the following <strong>R</strong> packages:</p>
<ul>
<li>
<a href="https://CRAN.R-project.org/package=ggplot2"><strong>ggplot2</strong></a>: we use this package to visualize our data in <strong>R</strong>.</li>
<li>
<a href="https://CRAN.R-project.org/package=liver"><strong>liver</strong></a>: the <em>churn</em> dataset is in this package.</li>
<li>
<a href="https://CRAN.R-project.org/package=GGally"><strong>GGally</strong></a>: We use the <code><a href="https://ggobi.github.io/ggally/reference/ggcorr.html">ggcorr()</a></code> function from this package.</li>
<li>
<a href="https://CRAN.R-project.org/package=psych"><strong>psych</strong></a>: We use the <code><a href="https://rdrr.io/pkg/psych/man/pairs.panels.html">pairs.panels()</a></code> function from this package.</li>
<li>
<a href="https://CRAN.R-project.org/package=ggcorrplot"><strong>ggcorrplot</strong></a>: We use the <code><a href="https://rdrr.io/pkg/ggcorrplot/man/ggcorrplot.html">ggcorrplot()</a></code> function from this package.</li>
</ul>
<p><strong>NOTE:</strong> If you have not installed those two packages, you should first install them.</p>
<p>To load the packages:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>  </span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://www.uva.nl/profile/a.mohammadi">liver</a></span><span class="op">)</span>  </span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggobi.github.io/ggally/">GGally</a></span><span class="op">)</span>  </span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://personality-project.org/r/psych/">psych</a></span><span class="op">)</span>  </span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://www.sthda.com/english/wiki/ggcorrplot-visualization-of-a-correlation-matrix-using-ggplot2">ggcorrplot</a></span><span class="op">)</span></span></code></pre></div>
<div id="business-understanding-1" class="section level3" number="4.1.1">
<h3>
<span class="header-section-number">4.1.1</span> Business Understanding<a class="anchor" aria-label="anchor" href="#business-understanding-1"><i class="fas fa-link"></i></a>
</h3>
<p>Companies are interested to know who is gonna get churned so they can proactively go to the customer to provide them better services and turn customers’ decisions in the opposite direction. Companies are interested to know:</p>
<ul>
<li>
<strong>What</strong> are the causes or reasons of losing customers?</li>
<li>
<strong>Why</strong> are we losing them?</li>
<li>
<strong>How</strong> do we stop them from leaving the company?</li>
</ul>
<p>To answer these questions here, as a practical example, we use the <em>churn</em> data set is available in the <strong>R</strong> package <a href="https://CRAN.R-project.org/package=liver"><em>liver</em></a>.</p>
</div>
<div id="data-understanding" class="section level3" number="4.1.2">
<h3>
<span class="header-section-number">4.1.2</span> Data Understanding<a class="anchor" aria-label="anchor" href="#data-understanding"><i class="fas fa-link"></i></a>
</h3>
<p>This dataset comes from IBM Sample Data Sets. The data set contains 5000 rows (customers) and 20 columns (features). The “churn” column is our target which indicates whether the customer churned (left the company) or not.
The 20 variables are:</p>
<blockquote>
<ol style="list-style-type: decimal">
<li>
<code>state</code>: Categorical, for the 51 states and the District of Columbia.</li>
<li>
<code>area.code</code>: Categorical.</li>
<li>
<code>account.length</code>: count, how long account has been active.</li>
<li>
<code>voice.plan</code>: Categorical, yes or no, voice mail plan.</li>
<li>
<code>voice.messages</code>: Count, number of voice mail messages.</li>
<li>
<code>intl.plan</code>: Categorical, yes or no, international plan.</li>
<li>
<code>intl.mins</code>: Continuous, minutes customer used service to make international calls.</li>
<li>
<code>intl.calls</code>: Count, total number of international calls.</li>
<li>
<code>intl.charge</code>: Continuous, total international charge.</li>
<li>
<code>day.mins</code>: Continuous, minutes customer used service during the day.</li>
<li>
<code>day.calls</code>: Count, total number of calls during the day.</li>
<li>
<code>day.charge</code>: Continuous, total charge during the day.</li>
<li>
<code>eve.mins</code>: Continuous, minutes customer used service during the evening.</li>
<li>
<code>eve.calls</code>: Count, total number of calls during the evening.</li>
<li>
<code>eve.charge</code>: Continuous, total charge during the evening.</li>
<li>
<code>night.mins</code>: Continuous, minutes customer used service during the night.</li>
<li>
<code>night.calls</code>: Count, total number of calls during the night.</li>
<li>
<code>night.charge</code>: Continuous, total charge during the night.</li>
<li>
<code>customer.calls</code>: Count, number of calls to customer service.</li>
<li>
<code>churn</code>: Categorical, yes or no. Indicator of whether the customer has left the company (yes or no).</li>
</ol>
</blockquote>
<p>We import the dataset in <strong>R</strong> as follows:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">churn</span><span class="op">)</span> <span class="co"># load the "churn" dataset</span></span></code></pre></div>
<p>To see the overview of the dataset in <strong>R</strong> we could use the following functions:</p>
<ul>
<li>
<code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> to see a compact display of the structure of the data.</li>
<li>
<code><a href="https://rdrr.io/r/utils/View.html">View()</a></code> to see spreadsheet-style data.</li>
<li>
<code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> to see the first part of the data (first 6 rows of the data).</li>
<li>
<code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> to see the summary of each variable.</li>
<li>
<code><a href="https://rdrr.io/pkg/liver/man/skim.html">skim()</a></code> from the package <em>liver</em> package.</li>
</ul>
<p>To see the overview of the dataset in <strong>R</strong> we are using function <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> as follows:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="exploratory-data-analysis-1.html#cb18-1" tabindex="-1"></a><span class="fu">str</span>(churn)   <span class="co"># Compactly display the structure of the data</span></span>
<span id="cb18-2"><a href="exploratory-data-analysis-1.html#cb18-2" tabindex="-1"></a>   <span class="st">'data.frame'</span><span class="sc">:</span>    <span class="dv">5000</span> obs. of  <span class="dv">20</span> variables<span class="sc">:</span></span>
<span id="cb18-3"><a href="exploratory-data-analysis-1.html#cb18-3" tabindex="-1"></a>    <span class="er">$</span> state         <span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">51</span> levels <span class="st">"AK"</span>,<span class="st">"AL"</span>,<span class="st">"AR"</span>,..<span class="sc">:</span> <span class="dv">17</span> <span class="dv">36</span> <span class="dv">32</span> <span class="dv">36</span> <span class="dv">37</span> <span class="dv">2</span> <span class="dv">20</span> <span class="dv">25</span> <span class="dv">19</span> <span class="dv">50</span> ...</span>
<span id="cb18-4"><a href="exploratory-data-analysis-1.html#cb18-4" tabindex="-1"></a>    <span class="sc">$</span> area.code     <span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">3</span> levels <span class="st">"area_code_408"</span>,..<span class="sc">:</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> ...</span>
<span id="cb18-5"><a href="exploratory-data-analysis-1.html#cb18-5" tabindex="-1"></a>    <span class="sc">$</span> account.length<span class="sc">:</span> int  <span class="dv">128</span> <span class="dv">107</span> <span class="dv">137</span> <span class="dv">84</span> <span class="dv">75</span> <span class="dv">118</span> <span class="dv">121</span> <span class="dv">147</span> <span class="dv">117</span> <span class="dv">141</span> ...</span>
<span id="cb18-6"><a href="exploratory-data-analysis-1.html#cb18-6" tabindex="-1"></a>    <span class="sc">$</span> voice.plan    <span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">2</span> levels <span class="st">"yes"</span>,<span class="st">"no"</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> ...</span>
<span id="cb18-7"><a href="exploratory-data-analysis-1.html#cb18-7" tabindex="-1"></a>    <span class="sc">$</span> voice.messages<span class="sc">:</span> int  <span class="dv">25</span> <span class="dv">26</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">24</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">37</span> ...</span>
<span id="cb18-8"><a href="exploratory-data-analysis-1.html#cb18-8" tabindex="-1"></a>    <span class="sc">$</span> intl.plan     <span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">2</span> levels <span class="st">"yes"</span>,<span class="st">"no"</span><span class="sc">:</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> ...</span>
<span id="cb18-9"><a href="exploratory-data-analysis-1.html#cb18-9" tabindex="-1"></a>    <span class="sc">$</span> intl.mins     <span class="sc">:</span> num  <span class="dv">10</span> <span class="fl">13.7</span> <span class="fl">12.2</span> <span class="fl">6.6</span> <span class="fl">10.1</span> <span class="fl">6.3</span> <span class="fl">7.5</span> <span class="fl">7.1</span> <span class="fl">8.7</span> <span class="fl">11.2</span> ...</span>
<span id="cb18-10"><a href="exploratory-data-analysis-1.html#cb18-10" tabindex="-1"></a>    <span class="sc">$</span> intl.calls    <span class="sc">:</span> int  <span class="dv">3</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">7</span> <span class="dv">3</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">6</span> <span class="dv">4</span> <span class="dv">5</span> ...</span>
<span id="cb18-11"><a href="exploratory-data-analysis-1.html#cb18-11" tabindex="-1"></a>    <span class="sc">$</span> intl.charge   <span class="sc">:</span> num  <span class="fl">2.7</span> <span class="fl">3.7</span> <span class="fl">3.29</span> <span class="fl">1.78</span> <span class="fl">2.73</span> <span class="fl">1.7</span> <span class="fl">2.03</span> <span class="fl">1.92</span> <span class="fl">2.35</span> <span class="fl">3.02</span> ...</span>
<span id="cb18-12"><a href="exploratory-data-analysis-1.html#cb18-12" tabindex="-1"></a>    <span class="sc">$</span> day.mins      <span class="sc">:</span> num  <span class="dv">265</span> <span class="dv">162</span> <span class="dv">243</span> <span class="dv">299</span> <span class="dv">167</span> ...</span>
<span id="cb18-13"><a href="exploratory-data-analysis-1.html#cb18-13" tabindex="-1"></a>    <span class="sc">$</span> day.calls     <span class="sc">:</span> int  <span class="dv">110</span> <span class="dv">123</span> <span class="dv">114</span> <span class="dv">71</span> <span class="dv">113</span> <span class="dv">98</span> <span class="dv">88</span> <span class="dv">79</span> <span class="dv">97</span> <span class="dv">84</span> ...</span>
<span id="cb18-14"><a href="exploratory-data-analysis-1.html#cb18-14" tabindex="-1"></a>    <span class="sc">$</span> day.charge    <span class="sc">:</span> num  <span class="fl">45.1</span> <span class="fl">27.5</span> <span class="fl">41.4</span> <span class="fl">50.9</span> <span class="fl">28.3</span> ...</span>
<span id="cb18-15"><a href="exploratory-data-analysis-1.html#cb18-15" tabindex="-1"></a>    <span class="sc">$</span> eve.mins      <span class="sc">:</span> num  <span class="fl">197.4</span> <span class="fl">195.5</span> <span class="fl">121.2</span> <span class="fl">61.9</span> <span class="fl">148.3</span> ...</span>
<span id="cb18-16"><a href="exploratory-data-analysis-1.html#cb18-16" tabindex="-1"></a>    <span class="sc">$</span> eve.calls     <span class="sc">:</span> int  <span class="dv">99</span> <span class="dv">103</span> <span class="dv">110</span> <span class="dv">88</span> <span class="dv">122</span> <span class="dv">101</span> <span class="dv">108</span> <span class="dv">94</span> <span class="dv">80</span> <span class="dv">111</span> ...</span>
<span id="cb18-17"><a href="exploratory-data-analysis-1.html#cb18-17" tabindex="-1"></a>    <span class="sc">$</span> eve.charge    <span class="sc">:</span> num  <span class="fl">16.78</span> <span class="fl">16.62</span> <span class="fl">10.3</span> <span class="fl">5.26</span> <span class="fl">12.61</span> ...</span>
<span id="cb18-18"><a href="exploratory-data-analysis-1.html#cb18-18" tabindex="-1"></a>    <span class="sc">$</span> night.mins    <span class="sc">:</span> num  <span class="dv">245</span> <span class="dv">254</span> <span class="dv">163</span> <span class="dv">197</span> <span class="dv">187</span> ...</span>
<span id="cb18-19"><a href="exploratory-data-analysis-1.html#cb18-19" tabindex="-1"></a>    <span class="sc">$</span> night.calls   <span class="sc">:</span> int  <span class="dv">91</span> <span class="dv">103</span> <span class="dv">104</span> <span class="dv">89</span> <span class="dv">121</span> <span class="dv">118</span> <span class="dv">118</span> <span class="dv">96</span> <span class="dv">90</span> <span class="dv">97</span> ...</span>
<span id="cb18-20"><a href="exploratory-data-analysis-1.html#cb18-20" tabindex="-1"></a>    <span class="sc">$</span> night.charge  <span class="sc">:</span> num  <span class="fl">11.01</span> <span class="fl">11.45</span> <span class="fl">7.32</span> <span class="fl">8.86</span> <span class="fl">8.41</span> ...</span>
<span id="cb18-21"><a href="exploratory-data-analysis-1.html#cb18-21" tabindex="-1"></a>    <span class="sc">$</span> customer.calls<span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">0</span> <span class="dv">3</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span> ...</span>
<span id="cb18-22"><a href="exploratory-data-analysis-1.html#cb18-22" tabindex="-1"></a>    <span class="sc">$</span> churn         <span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">2</span> levels <span class="st">"yes"</span>,<span class="st">"no"</span><span class="sc">:</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> ...</span></code></pre></div>
<p>It shows that data are as a <em>data.frame</em> object in <strong>R</strong> with 5000 observations and 20 variables. The last column (with name <em>churn</em>) is the <em>target variable</em> that indicates whether customers churned (left the company) or not.</p>
<p>By using the function <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> in <strong>R</strong>, we can see the summary of the dataset as follows</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="exploratory-data-analysis-1.html#cb19-1" tabindex="-1"></a><span class="fu">summary</span>(churn)</span>
<span id="cb19-2"><a href="exploratory-data-analysis-1.html#cb19-2" tabindex="-1"></a>        state              area.code    account.length  voice.plan</span>
<span id="cb19-3"><a href="exploratory-data-analysis-1.html#cb19-3" tabindex="-1"></a>    WV     <span class="sc">:</span> <span class="dv">158</span>   area_code_408<span class="sc">:</span><span class="dv">1259</span>   Min.   <span class="sc">:</span>  <span class="fl">1.0</span>   yes<span class="sc">:</span><span class="dv">1323</span>  </span>
<span id="cb19-4"><a href="exploratory-data-analysis-1.html#cb19-4" tabindex="-1"></a>    MN     <span class="sc">:</span> <span class="dv">125</span>   area_code_415<span class="sc">:</span><span class="dv">2495</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span> <span class="fl">73.0</span>   no <span class="sc">:</span><span class="dv">3677</span>  </span>
<span id="cb19-5"><a href="exploratory-data-analysis-1.html#cb19-5" tabindex="-1"></a>    AL     <span class="sc">:</span> <span class="dv">124</span>   area_code_510<span class="sc">:</span><span class="dv">1246</span>   Median <span class="sc">:</span><span class="fl">100.0</span>             </span>
<span id="cb19-6"><a href="exploratory-data-analysis-1.html#cb19-6" tabindex="-1"></a>    ID     <span class="sc">:</span> <span class="dv">119</span>                        Mean   <span class="sc">:</span><span class="fl">100.3</span>             </span>
<span id="cb19-7"><a href="exploratory-data-analysis-1.html#cb19-7" tabindex="-1"></a>    VA     <span class="sc">:</span> <span class="dv">118</span>                        <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">127.0</span>             </span>
<span id="cb19-8"><a href="exploratory-data-analysis-1.html#cb19-8" tabindex="-1"></a>    OH     <span class="sc">:</span> <span class="dv">116</span>                        Max.   <span class="sc">:</span><span class="fl">243.0</span>             </span>
<span id="cb19-9"><a href="exploratory-data-analysis-1.html#cb19-9" tabindex="-1"></a>    (Other)<span class="sc">:</span><span class="dv">4240</span>                                                  </span>
<span id="cb19-10"><a href="exploratory-data-analysis-1.html#cb19-10" tabindex="-1"></a>    voice.messages   intl.plan    intl.mins       intl.calls      intl.charge   </span>
<span id="cb19-11"><a href="exploratory-data-analysis-1.html#cb19-11" tabindex="-1"></a>    Min.   <span class="sc">:</span> <span class="fl">0.000</span>   yes<span class="sc">:</span> <span class="dv">473</span>   Min.   <span class="sc">:</span> <span class="fl">0.00</span>   Min.   <span class="sc">:</span> <span class="fl">0.000</span>   Min.   <span class="sc">:</span><span class="fl">0.000</span>  </span>
<span id="cb19-12"><a href="exploratory-data-analysis-1.html#cb19-12" tabindex="-1"></a>    <span class="dv">1</span>st Qu.<span class="sc">:</span> <span class="fl">0.000</span>   no <span class="sc">:</span><span class="dv">4527</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span> <span class="fl">8.50</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span> <span class="fl">3.000</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="fl">2.300</span>  </span>
<span id="cb19-13"><a href="exploratory-data-analysis-1.html#cb19-13" tabindex="-1"></a>    Median <span class="sc">:</span> <span class="fl">0.000</span>              Median <span class="sc">:</span><span class="fl">10.30</span>   Median <span class="sc">:</span> <span class="fl">4.000</span>   Median <span class="sc">:</span><span class="fl">2.780</span>  </span>
<span id="cb19-14"><a href="exploratory-data-analysis-1.html#cb19-14" tabindex="-1"></a>    Mean   <span class="sc">:</span> <span class="fl">7.755</span>              Mean   <span class="sc">:</span><span class="fl">10.26</span>   Mean   <span class="sc">:</span> <span class="fl">4.435</span>   Mean   <span class="sc">:</span><span class="fl">2.771</span>  </span>
<span id="cb19-15"><a href="exploratory-data-analysis-1.html#cb19-15" tabindex="-1"></a>    <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">17.000</span>              <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">12.00</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span> <span class="fl">6.000</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">3.240</span>  </span>
<span id="cb19-16"><a href="exploratory-data-analysis-1.html#cb19-16" tabindex="-1"></a>    Max.   <span class="sc">:</span><span class="fl">52.000</span>              Max.   <span class="sc">:</span><span class="fl">20.00</span>   Max.   <span class="sc">:</span><span class="fl">20.000</span>   Max.   <span class="sc">:</span><span class="fl">5.400</span>  </span>
<span id="cb19-17"><a href="exploratory-data-analysis-1.html#cb19-17" tabindex="-1"></a>                                                                                </span>
<span id="cb19-18"><a href="exploratory-data-analysis-1.html#cb19-18" tabindex="-1"></a>       day.mins       day.calls     day.charge       eve.mins       eve.calls    </span>
<span id="cb19-19"><a href="exploratory-data-analysis-1.html#cb19-19" tabindex="-1"></a>    Min.   <span class="sc">:</span>  <span class="fl">0.0</span>   Min.   <span class="sc">:</span>  <span class="dv">0</span>   Min.   <span class="sc">:</span> <span class="fl">0.00</span>   Min.   <span class="sc">:</span>  <span class="fl">0.0</span>   Min.   <span class="sc">:</span>  <span class="fl">0.0</span>  </span>
<span id="cb19-20"><a href="exploratory-data-analysis-1.html#cb19-20" tabindex="-1"></a>    <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="fl">143.7</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span> <span class="dv">87</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="fl">24.43</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="fl">166.4</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span> <span class="fl">87.0</span>  </span>
<span id="cb19-21"><a href="exploratory-data-analysis-1.html#cb19-21" tabindex="-1"></a>    Median <span class="sc">:</span><span class="fl">180.1</span>   Median <span class="sc">:</span><span class="dv">100</span>   Median <span class="sc">:</span><span class="fl">30.62</span>   Median <span class="sc">:</span><span class="fl">201.0</span>   Median <span class="sc">:</span><span class="fl">100.0</span>  </span>
<span id="cb19-22"><a href="exploratory-data-analysis-1.html#cb19-22" tabindex="-1"></a>    Mean   <span class="sc">:</span><span class="fl">180.3</span>   Mean   <span class="sc">:</span><span class="dv">100</span>   Mean   <span class="sc">:</span><span class="fl">30.65</span>   Mean   <span class="sc">:</span><span class="fl">200.6</span>   Mean   <span class="sc">:</span><span class="fl">100.2</span>  </span>
<span id="cb19-23"><a href="exploratory-data-analysis-1.html#cb19-23" tabindex="-1"></a>    <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">216.2</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="dv">113</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">36.75</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">234.1</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">114.0</span>  </span>
<span id="cb19-24"><a href="exploratory-data-analysis-1.html#cb19-24" tabindex="-1"></a>    Max.   <span class="sc">:</span><span class="fl">351.5</span>   Max.   <span class="sc">:</span><span class="dv">165</span>   Max.   <span class="sc">:</span><span class="fl">59.76</span>   Max.   <span class="sc">:</span><span class="fl">363.7</span>   Max.   <span class="sc">:</span><span class="fl">170.0</span>  </span>
<span id="cb19-25"><a href="exploratory-data-analysis-1.html#cb19-25" tabindex="-1"></a>                                                                                 </span>
<span id="cb19-26"><a href="exploratory-data-analysis-1.html#cb19-26" tabindex="-1"></a>      eve.charge      night.mins     night.calls      night.charge   </span>
<span id="cb19-27"><a href="exploratory-data-analysis-1.html#cb19-27" tabindex="-1"></a>    Min.   <span class="sc">:</span> <span class="fl">0.00</span>   Min.   <span class="sc">:</span>  <span class="fl">0.0</span>   Min.   <span class="sc">:</span>  <span class="fl">0.00</span>   Min.   <span class="sc">:</span> <span class="fl">0.000</span>  </span>
<span id="cb19-28"><a href="exploratory-data-analysis-1.html#cb19-28" tabindex="-1"></a>    <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="fl">14.14</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="fl">166.9</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span> <span class="fl">87.00</span>   <span class="dv">1</span>st Qu.<span class="sc">:</span> <span class="fl">7.510</span>  </span>
<span id="cb19-29"><a href="exploratory-data-analysis-1.html#cb19-29" tabindex="-1"></a>    Median <span class="sc">:</span><span class="fl">17.09</span>   Median <span class="sc">:</span><span class="fl">200.4</span>   Median <span class="sc">:</span><span class="fl">100.00</span>   Median <span class="sc">:</span> <span class="fl">9.020</span>  </span>
<span id="cb19-30"><a href="exploratory-data-analysis-1.html#cb19-30" tabindex="-1"></a>    Mean   <span class="sc">:</span><span class="fl">17.05</span>   Mean   <span class="sc">:</span><span class="fl">200.4</span>   Mean   <span class="sc">:</span> <span class="fl">99.92</span>   Mean   <span class="sc">:</span> <span class="fl">9.018</span>  </span>
<span id="cb19-31"><a href="exploratory-data-analysis-1.html#cb19-31" tabindex="-1"></a>    <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">19.90</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">234.7</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">113.00</span>   <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">10.560</span>  </span>
<span id="cb19-32"><a href="exploratory-data-analysis-1.html#cb19-32" tabindex="-1"></a>    Max.   <span class="sc">:</span><span class="fl">30.91</span>   Max.   <span class="sc">:</span><span class="fl">395.0</span>   Max.   <span class="sc">:</span><span class="fl">175.00</span>   Max.   <span class="sc">:</span><span class="fl">17.770</span>  </span>
<span id="cb19-33"><a href="exploratory-data-analysis-1.html#cb19-33" tabindex="-1"></a>                                                                     </span>
<span id="cb19-34"><a href="exploratory-data-analysis-1.html#cb19-34" tabindex="-1"></a>    customer.calls churn     </span>
<span id="cb19-35"><a href="exploratory-data-analysis-1.html#cb19-35" tabindex="-1"></a>    Min.   <span class="sc">:</span><span class="fl">0.00</span>   yes<span class="sc">:</span> <span class="dv">707</span>  </span>
<span id="cb19-36"><a href="exploratory-data-analysis-1.html#cb19-36" tabindex="-1"></a>    <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="fl">1.00</span>   no <span class="sc">:</span><span class="dv">4293</span>  </span>
<span id="cb19-37"><a href="exploratory-data-analysis-1.html#cb19-37" tabindex="-1"></a>    Median <span class="sc">:</span><span class="fl">1.00</span>             </span>
<span id="cb19-38"><a href="exploratory-data-analysis-1.html#cb19-38" tabindex="-1"></a>    Mean   <span class="sc">:</span><span class="fl">1.57</span>             </span>
<span id="cb19-39"><a href="exploratory-data-analysis-1.html#cb19-39" tabindex="-1"></a>    <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">2.00</span>             </span>
<span id="cb19-40"><a href="exploratory-data-analysis-1.html#cb19-40" tabindex="-1"></a>    Max.   <span class="sc">:</span><span class="fl">9.00</span>             </span>
<span id="cb19-41"><a href="exploratory-data-analysis-1.html#cb19-41" tabindex="-1"></a>   </span></code></pre></div>
<p>It shows the summary of all the 20 variables.</p>
<p><strong>a. For each variable in the churn dataset, specify its type.</strong></p>
<p><strong>b. Based on the output of the <code>summary</code> function for the churn dataset, what is the number of customers who have an international plan (<code>intl.plan = "yes"</code>)?</strong></p>
<p><span style="color:blue"><strong>Solution:</strong></span></p>
<ol style="list-style-type: lower-alpha">
<li>The dataset has 19 predictors along with the target variable <code>churn</code>. The type of variables are as follows:</li>
</ol>
<div class="inline-table"><table class="table table-sm">
<thead><tr>
<th align="left">Variable</th>
<th align="center">R Datatype</th>
<th align="left">Statistical Datatype</th>
</tr></thead>
<tbody>
<tr>
<td align="left"><code>state</code></td>
<td align="center"><code>Factor</code></td>
<td align="left">categorical - nominal</td>
</tr>
<tr>
<td align="left"><code>area.code</code></td>
<td align="center"><code>Factor</code></td>
<td align="left">categorical - nominal</td>
</tr>
<tr>
<td align="left"><code>account.length</code></td>
<td align="center"><code>int</code></td>
<td align="left">numerical - discrete</td>
</tr>
<tr>
<td align="left"><code>voice.plan</code></td>
<td align="center"><code>Factor</code></td>
<td align="left">categorical - binary</td>
</tr>
<tr>
<td align="left"><code>voice.messages</code></td>
<td align="center"><code>int</code></td>
<td align="left">numerical - discrete</td>
</tr>
<tr>
<td align="left"><code>intl.plan</code></td>
<td align="center"><code>Factor</code></td>
<td align="left">categorical - binary</td>
</tr>
<tr>
<td align="left"><code>intl.mins</code></td>
<td align="center"><code>num</code></td>
<td align="left">numerical - continuous</td>
</tr>
<tr>
<td align="left"><code>intl.calls</code></td>
<td align="center"><code>int</code></td>
<td align="left">numerical - discrete</td>
</tr>
<tr>
<td align="left"><code>intl.charge</code></td>
<td align="center"><code>num</code></td>
<td align="left">numerical - continuous</td>
</tr>
<tr>
<td align="left"><code>day.mins</code></td>
<td align="center"><code>num</code></td>
<td align="left">numerical - continuous</td>
</tr>
<tr>
<td align="left"><code>day.calls</code></td>
<td align="center"><code>int</code></td>
<td align="left">numerical - discrete</td>
</tr>
<tr>
<td align="left"><code>day.charge</code></td>
<td align="center"><code>num</code></td>
<td align="left">numerical - continuous</td>
</tr>
<tr>
<td align="left"><code>eve.mins</code></td>
<td align="center"><code>num</code></td>
<td align="left">numerical - continuous</td>
</tr>
<tr>
<td align="left"><code>eve.calls</code></td>
<td align="center"><code>int</code></td>
<td align="left">numerical - discrete</td>
</tr>
<tr>
<td align="left"><code>eve.charge</code></td>
<td align="center"><code>num</code></td>
<td align="left">numerical - continuous</td>
</tr>
<tr>
<td align="left"><code>night.mins</code></td>
<td align="center"><code>num</code></td>
<td align="left">numerical - continuous</td>
</tr>
<tr>
<td align="left"><code>night.calls</code></td>
<td align="center"><code>int</code></td>
<td align="left">numerical - discrete</td>
</tr>
<tr>
<td align="left"><code>night.charge</code></td>
<td align="center"><code>num</code></td>
<td align="left">numerical - continuous</td>
</tr>
<tr>
<td align="left"><code>customer.calls</code></td>
<td align="center"><code>int</code></td>
<td align="left">numerical - discrete</td>
</tr>
<tr>
<td align="left"><code>churn</code></td>
<td align="center"><code>Factor</code></td>
<td align="left">categorical - binary</td>
</tr>
</tbody>
</table></div>
<p>The target variable is <code>churn</code> as a binary variable with 2 levels “yes” or “no”.</p>
<ol start="2" style="list-style-type: lower-alpha">
<li>Regarding to the summary of the dataset, 473 of the customers have an international plan.</li>
</ol>
</div>
<div id="investigate-the-target-variable-churn" class="section level3" number="4.1.3">
<h3>
<span class="header-section-number">4.1.3</span> Investigate the target variable <em>churn</em><a class="anchor" aria-label="anchor" href="#investigate-the-target-variable-churn"><i class="fas fa-link"></i></a>
</h3>
<p>Here we report a bar plot for the target variable <code>churn</code> by using function <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot()</a></code> from the <strong>R</strong> package <strong>ggplot2</strong> as follows:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">churn</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">churn</span><span class="op">)</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Bar plot for the target variable 'churn'"</span><span class="op">)</span>  </span></code></pre></div>
<div class="inline-figure"><img src="EDA_files/figure-html/unnamed-chunk-5-1.png" width="480" style="display: block; margin: auto;"></div>
<p>Summary for the target variable <code>churn</code></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="exploratory-data-analysis-1.html#cb21-1" tabindex="-1"></a><span class="fu">summary</span>(churn<span class="sc">$</span>churn)</span>
<span id="cb21-2"><a href="exploratory-data-analysis-1.html#cb21-2" tabindex="-1"></a>    yes   no </span>
<span id="cb21-3"><a href="exploratory-data-analysis-1.html#cb21-3" tabindex="-1"></a>    <span class="dv">707</span> <span class="dv">4293</span></span></code></pre></div>
<p><strong>Based on the above output, what is the proportion of the churner (customer churn rate)?</strong></p>
<p><span style="color:blue"><strong>Solution:</strong></span></p>
<p>It shows that 707 left the company and the proportion of the churner is:</p>
<p>Customer Churn Rate = No. of Customers lost / Total no. of customers = <span class="math inline">\(\frac{707}{5000}\)</span> =0.141.</p>
</div>
<div id="investigate-variable-international-plan" class="section level3" number="4.1.4">
<h3>
<span class="header-section-number">4.1.4</span> Investigate variable <em>International Plan</em><a class="anchor" aria-label="anchor" href="#investigate-variable-international-plan"><i class="fas fa-link"></i></a>
</h3>
<p>Here we first report a contingency table of International Plan (<code>intl.plan</code>) with <code>churn</code></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="exploratory-data-analysis-1.html#cb22-1" tabindex="-1"></a><span class="fu">table</span>(churn<span class="sc">$</span>churn, churn<span class="sc">$</span>intl.plan, <span class="at">dnn =</span> <span class="fu">c</span>(<span class="st">"Churn"</span>, <span class="st">"International Plan"</span>))</span>
<span id="cb22-2"><a href="exploratory-data-analysis-1.html#cb22-2" tabindex="-1"></a>        International Plan</span>
<span id="cb22-3"><a href="exploratory-data-analysis-1.html#cb22-3" tabindex="-1"></a>   Churn  yes   no</span>
<span id="cb22-4"><a href="exploratory-data-analysis-1.html#cb22-4" tabindex="-1"></a>     yes  <span class="dv">199</span>  <span class="dv">508</span></span>
<span id="cb22-5"><a href="exploratory-data-analysis-1.html#cb22-5" tabindex="-1"></a>     no   <span class="dv">274</span> <span class="dv">4019</span></span></code></pre></div>
<p>Here is the above contingency table with margins</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="exploratory-data-analysis-1.html#cb23-1" tabindex="-1"></a><span class="fu">addmargins</span>(<span class="fu">table</span>(churn<span class="sc">$</span>churn, churn<span class="sc">$</span>intl.plan, <span class="at">dnn =</span> <span class="fu">c</span>(<span class="st">"Churn"</span>, <span class="st">"International Plan"</span>)))</span>
<span id="cb23-2"><a href="exploratory-data-analysis-1.html#cb23-2" tabindex="-1"></a>        International Plan</span>
<span id="cb23-3"><a href="exploratory-data-analysis-1.html#cb23-3" tabindex="-1"></a>   Churn  yes   no  Sum</span>
<span id="cb23-4"><a href="exploratory-data-analysis-1.html#cb23-4" tabindex="-1"></a>     yes  <span class="dv">199</span>  <span class="dv">508</span>  <span class="dv">707</span></span>
<span id="cb23-5"><a href="exploratory-data-analysis-1.html#cb23-5" tabindex="-1"></a>     no   <span class="dv">274</span> <span class="dv">4019</span> <span class="dv">4293</span></span>
<span id="cb23-6"><a href="exploratory-data-analysis-1.html#cb23-6" tabindex="-1"></a>     Sum  <span class="dv">473</span> <span class="dv">4527</span> <span class="dv">5000</span></span></code></pre></div>
<p>Bar chart for International Plan</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">churn</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">intl.plan</span>, fill <span class="op">=</span> <span class="va">churn</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">churn</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">intl.plan</span>, fill <span class="op">=</span> <span class="va">churn</span><span class="op">)</span>, position <span class="op">=</span> <span class="st">"fill"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-9-1.png" width="50%"><img src="EDA_files/figure-html/unnamed-chunk-9-2.png" width="50%"></p>
<p><strong>What would be your interpretation of the above plots?</strong></p>
<p><span style="color:blue"><strong>Solution:</strong></span></p>
<p>The first plot depicts a bar chart of <code>intl.plan</code>, with <code>churn</code> overlay. The chart shows approximately 500 customers have an international plan, while the rest do not. The proportions of churners is not clearly readable, but approximately half of the customers who have an international plan tend to churn. The churn rate is much smaller for customers who do not have international plan.</p>
<p>The right chart is the version of the bar chart based on the proportions on the left. The proportion chart’s y-axis ranges between 0 and 1, and it shows the proportions of churners in each <code>intl.plan</code> category. This chart allows for more precision; we read that approximately 42% of international plan holders change to a different company, while this number is around 11% for those not having an international plan.</p>
<p>The above plots show that International Plan holders (<code>intl.plan="yes"</code>) tend to churn more frequently, but they do not <em>quantify</em> the relationship. The above contingency table quantify the relationship between International Plan holding and churning, Since both variables are categorical. We should consider using International Plan as one of the predictor variables in whatever machine learning algorithms we use to predict churn.</p>
</div>
<div id="investigate-variable-voice-mail-plan" class="section level3" number="4.1.5">
<h3>
<span class="header-section-number">4.1.5</span> Investigate variable “<em>voice mail plan</em>”<a class="anchor" aria-label="anchor" href="#investigate-variable-voice-mail-plan"><i class="fas fa-link"></i></a>
</h3>
<p>Make a table for counts of Churn and Voice Mail Plan</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="exploratory-data-analysis-1.html#cb25-1" tabindex="-1"></a><span class="fu">table</span>(churn<span class="sc">$</span>churn, churn<span class="sc">$</span>voice.plan, <span class="at">dnn =</span> <span class="fu">c</span>(<span class="st">"Churn"</span>, <span class="st">"Voice Mail Plan"</span>))</span>
<span id="cb25-2"><a href="exploratory-data-analysis-1.html#cb25-2" tabindex="-1"></a>        Voice Mail Plan</span>
<span id="cb25-3"><a href="exploratory-data-analysis-1.html#cb25-3" tabindex="-1"></a>   Churn  yes   no</span>
<span id="cb25-4"><a href="exploratory-data-analysis-1.html#cb25-4" tabindex="-1"></a>     yes  <span class="dv">102</span>  <span class="dv">605</span></span>
<span id="cb25-5"><a href="exploratory-data-analysis-1.html#cb25-5" tabindex="-1"></a>     no  <span class="dv">1221</span> <span class="dv">3072</span></span></code></pre></div>
<p>Bar chart for Voice Mail Plan</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">churn</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">voice.plan</span>, fill <span class="op">=</span> <span class="va">churn</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">churn</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">voice.plan</span>, fill <span class="op">=</span> <span class="va">churn</span><span class="op">)</span>, position <span class="op">=</span> <span class="st">"fill"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-11-1.png" width="50%"><img src="EDA_files/figure-html/unnamed-chunk-11-2.png" width="50%"></p>
<p><strong>What would be your interpretation of the above plots?</strong></p>
<p><span style="color:blue"><strong>Solution:</strong></span></p>
<p>The results above indicate that:</p>
<ul>
<li>It seems that Voice Mail Plan increases customers’ loyalty. Thus, we should consider enhancing our Voice Mail Plan.</li>
<li>We should consider using Voice Mail Plan as one of the predictor variables in whatever machine learning algorithms we use to predict churn. Our confidence in this expectation is perhaps not as high as for the International Plan.</li>
</ul>
</div>
<div id="investigate-variable-customer-service-calls" class="section level3" number="4.1.6">
<h3>
<span class="header-section-number">4.1.6</span> Investigate variable “<em>customer service calls</em>”<a class="anchor" aria-label="anchor" href="#investigate-variable-customer-service-calls"><i class="fas fa-link"></i></a>
</h3>
<p>Here, we are interested to investigate the relationship between variable “<em>customer service calls</em>” and the target variable “<em>churn</em>”. First, we report the histogram of the variable “<em>customer service calls</em>” by using function <code>ggplot</code> as follows</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">churn</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">customer.calls</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<div class="inline-figure"><img src="EDA_files/figure-html/unnamed-chunk-12-1.png" width="672" style="display: block; margin: auto;"></div>
<p>To see the relationship between variable “<em>customer service calls</em>” and the target variable “<em>churn</em>”, we report the histogram of the variable “<em>customer service calls</em>” including “churn” overlay as follows</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">churn</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">customer.calls</span><span class="op">)</span>, fill <span class="op">=</span> <span class="va">churn</span><span class="op">)</span>, position <span class="op">=</span> <span class="st">"stack"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<div class="inline-figure"><img src="EDA_files/figure-html/unnamed-chunk-13-1.png" width="672" style="display: block; margin: auto;"></div>
<p>We also report the <em>proportional</em> histogram of variable “<em>customer service calls</em>” including “churn” overlay as follow</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">churn</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">customer.calls</span><span class="op">)</span>, fill <span class="op">=</span> <span class="va">churn</span><span class="op">)</span>, position <span class="op">=</span> <span class="st">"fill"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<div class="inline-figure"><img src="EDA_files/figure-html/unnamed-chunk-14-1.png" width="672" style="display: block; margin: auto;"></div>
<p><strong>What would be your interpretation of the above plots?</strong></p>
<p><span style="color:blue"><strong>Solution:</strong></span></p>
<p>The first plot is a regular bar chart of <code>customer.calls</code>, and it shows positively a skewed distribution, with a mean of 1.5704 number of calls. The skewness of the data may be explained by that the majority of customers who contacts the customer service desk had their issue resolved within one call, and hence there was no need for further calls.</p>
<p>The second plot is similar to the first chart, however, it adds <code>churn</code> overlay. The overlay expresses the count of the specific <code>customer.calls</code> bar, how many have versus have not churned. Since it is challenging to read the proportions of the histogram we turn to the chart based on proportions, which is the last plot of this section.</p>
<p>The proportion chart (the last chart) depicts the proportions of churners vs non-churners for each customer call counts. We observe that churn rate is nearly constant at around 11% for customers who had 3 or less customer service calls. The churn rate, however, at least quadruples for those contacting the customer service desk at least 4 times. It seems, that customers tolerance or satisfaction drops significantly as soon as they need to call at least 4 times the customer service.</p>
<p>It is worth to note, that the proportion and non-proportion charts must be used together, otherwise it may lead to misleading observations. Such as, had we not taken into account the non-proportion bar chart, then we would have concluded that customers calling the service desk 9 times churn with certainty. However, for this observation, the data is not representative, because of the low sample size - i.e, there are only a few customers with 9 customer services calls.</p>
<p>The results above indicate that:</p>
<ul>
<li>We should carefully track the number of customer service calls made by each customer. By the third call, specialized incentives should be offered to retain customer loyalty, since, by the fourth call, the probability of churn substantially increases.</li>
<li>We should consider using variable “<em>customer service calls</em>” as one of the predictor variables in whatever machine learning algorithms we use to predict churn.</li>
</ul>
</div>
<div id="investigate-variable-day-minutes" class="section level3" number="4.1.7">
<h3>
<span class="header-section-number">4.1.7</span> Investigate variable “<em>Day Minutes</em>”<a class="anchor" aria-label="anchor" href="#investigate-variable-day-minutes"><i class="fas fa-link"></i></a>
</h3>
<p>Here, we are interested to investigate the relationship between variable Day Minutes and the target variable <em>Churn</em>. One way to see the relationship between variable Day Minutes and the target variable <em>churn</em>, would be by using the boxplot plot as follow</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">churn</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">churn</span>, y <span class="op">=</span> <span class="va">day.mins</span><span class="op">)</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<div class="inline-figure"><img src="EDA_files/figure-html/unnamed-chunk-15-1.png" width="672" style="display: block; margin: auto;"></div>
<p>To allow for a more precise analysis, we plot the data as frequency density plot; the below code performs that.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">churn</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">day.mins</span>, fill <span class="op">=</span> <span class="va">churn</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="EDA_files/figure-html/unnamed-chunk-16-1.png" width="672" style="display: block; margin: auto;"></div>
<p><strong>What would be your interpretation of the above boxplot and density plot?</strong></p>
<p><span style="color:blue"><strong>Solution:</strong></span></p>
<p>The <em>boxplots</em> depict the locality, spread and skewness of <code>day.mins</code> grouped by <code>churn</code> categories.</p>
<p><strong>Comparison of location:</strong> For both <code>churn</code> categories, that is for churners and non-churners, the distribution is approximately symmetric. This finding bears with the advantage, that we can state that the distributions’ mean and median are approximately at the same location. Knowing this, allows us to draw that the daily length of calls for churners is approximately on average 215 minutes. The length of the calls for those of non-churners is on average around 190 minutes a day.</p>
<p>The <em>density plot</em> shows that churners show bimodality; at 160 minutes, and 270 minutes. That is, customers with daily phone calls of 160, and 270 minutes churn with the highest rate. Furthermore, we can read that customer churn rate increases as <code>day.mins</code> exceeds 200 minutes.</p>
<p><strong>Comparison of dispersion:</strong> From the boxplots we read that the interquartile range for churners is approximately twice as large than for non-churners. Additionally, we read from the width of the whiskers, that the range of <code>day.mins</code> for churners is wider than for non-churners.</p>
<p><strong>Comparison of skewness:</strong> <code>day.mins</code> for churners is skewed to the left - churners spend more time on average on phone calls, than non-churners.</p>
<p><strong>Comparison of potential outliers:</strong> <code>day.mins</code>’s whisker spreads from the minima of the data to the maxima, and hence it does not have any outliers, or unusual values. This cannot be stated for non-churners, since its boxplot reports potential outliers beyond the lower and upper whiskers.</p>
<p>The results above indicate that:</p>
<ul>
<li>We should carefully track customer Day Minutes as total exceeds 200. Investigate why those with high usage tend to leave.</li>
<li>We should consider using variable “<em>Day Minutes</em>” as one of the predictor variables in whatever machine learning algorithms we use to predict churn.</li>
</ul>
</div>
<div id="investigate-variable-international-calls" class="section level3" number="4.1.8">
<h3>
<span class="header-section-number">4.1.8</span> Investigate variable “<em>International Calls</em>”<a class="anchor" aria-label="anchor" href="#investigate-variable-international-calls"><i class="fas fa-link"></i></a>
</h3>
<p>Here, we are interested to investigate the relationship between variable International Calls and the target variable <code>churn</code>. First, we report the histogram of the variable International Calls as follows:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">churn</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">intl.calls</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<div class="inline-figure"><img src="EDA_files/figure-html/unnamed-chunk-17-1.png" width="672" style="display: block; margin: auto;"></div>
<p>To see the relationship between variable International Calls and the target variable <em>churn</em>, we report the histogram of variable International Calls including Churn overlay as follow</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">churn</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">intl.calls</span>, fill <span class="op">=</span> <span class="va">churn</span><span class="op">)</span>, position <span class="op">=</span> <span class="st">"stack"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<div class="inline-figure"><img src="EDA_files/figure-html/unnamed-chunk-18-1.png" width="672" style="display: block; margin: auto;"></div>
<p>We also report the <em>proportional</em> histogram of variable International Calls including Churn overlay as follow</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">churn</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">intl.calls</span>, fill <span class="op">=</span> <span class="va">churn</span><span class="op">)</span>, position <span class="op">=</span> <span class="st">"fill"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<div class="inline-figure"><img src="EDA_files/figure-html/unnamed-chunk-19-1.png" width="672" style="display: block; margin: auto;"></div>
<p>To see the relationship between variable International Calls and the target variable <em>churn</em>, we report the boxplot as follow</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">churn</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">churn</span>, y <span class="op">=</span> <span class="va">intl.calls</span><span class="op">)</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<div class="inline-figure"><img src="EDA_files/figure-html/unnamed-chunk-20-1.png" width="672" style="display: block; margin: auto;"></div>
<p><strong>What would be your interpretation of the above boxplot?</strong></p>
<p><span style="color:blue"><strong>Solution:</strong></span></p>
<p>The above plots does not indicate strong graphical evidence of the predictive importance of International Calls. However, a t-test (see below) for the difference in the mean number of international calls for churners and non-churners is statistically significant (p-value = 0.003; p-values larger than, say, 0.10 are not considered significant), meaning that this variable is indeed useful for predicting churn: Churners tend to place a lower mean number of international calls. Thus, had we omitted International Calls from the analysis based on the seeming lack of graphical evidence, we would have committed a mistake, and our predictive model would not perform as well.</p>
<p>Hypothesis testing for dependency between variables <em>International Calls</em> and <em>churn</em></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="exploratory-data-analysis-1.html#cb36-1" tabindex="-1"></a><span class="fu">t.test</span>(intl.calls <span class="sc">~</span> churn, <span class="at">data =</span> churn)</span>
<span id="cb36-2"><a href="exploratory-data-analysis-1.html#cb36-2" tabindex="-1"></a>   </span>
<span id="cb36-3"><a href="exploratory-data-analysis-1.html#cb36-3" tabindex="-1"></a>    Welch Two Sample t<span class="sc">-</span>test</span>
<span id="cb36-4"><a href="exploratory-data-analysis-1.html#cb36-4" tabindex="-1"></a>   </span>
<span id="cb36-5"><a href="exploratory-data-analysis-1.html#cb36-5" tabindex="-1"></a>   data<span class="sc">:</span>  intl.calls by churn</span>
<span id="cb36-6"><a href="exploratory-data-analysis-1.html#cb36-6" tabindex="-1"></a>   t <span class="ot">=</span> <span class="sc">-</span><span class="fl">3.2138</span>, df <span class="ot">=</span> <span class="fl">931.13</span>, p<span class="sc">-</span>value <span class="ot">=</span> <span class="fl">0.001355</span></span>
<span id="cb36-7"><a href="exploratory-data-analysis-1.html#cb36-7" tabindex="-1"></a>   alternative hypothesis<span class="sc">:</span> true difference <span class="cf">in</span> means between group yes and group no is not equal to <span class="dv">0</span></span>
<span id="cb36-8"><a href="exploratory-data-analysis-1.html#cb36-8" tabindex="-1"></a>   <span class="dv">95</span> percent confidence interval<span class="sc">:</span></span>
<span id="cb36-9"><a href="exploratory-data-analysis-1.html#cb36-9" tabindex="-1"></a>    <span class="sc">-</span><span class="fl">0.5324872</span> <span class="sc">-</span><span class="fl">0.1287201</span></span>
<span id="cb36-10"><a href="exploratory-data-analysis-1.html#cb36-10" tabindex="-1"></a>   sample estimates<span class="sc">:</span></span>
<span id="cb36-11"><a href="exploratory-data-analysis-1.html#cb36-11" tabindex="-1"></a>   mean <span class="cf">in</span> group yes  mean <span class="cf">in</span> group no </span>
<span id="cb36-12"><a href="exploratory-data-analysis-1.html#cb36-12" tabindex="-1"></a>            <span class="fl">4.151344</span>          <span class="fl">4.481947</span></span></code></pre></div>
<p>Since the P-value = 0.0013549 is less than <span class="math inline">\(\alpha\)</span> = 0.05, thus we reject the <span class="math inline">\(H_0\)</span>.
It means the difference in the mean number of international calls for churners and non-churners is statistically significant.</p>
</div>
<div id="detect-correlated-variables" class="section level3" number="4.1.9">
<h3>
<span class="header-section-number">4.1.9</span> Detect Correlated Variables<a class="anchor" aria-label="anchor" href="#detect-correlated-variables"><i class="fas fa-link"></i></a>
</h3>
<p>To visualize the correlation matrix between the “day.mins”, “Day.Calls”, “Day.Charge”, “Eve.Mins”, “Eve.Calls”, “Eve.Charge”, “Night.Mins”, “Night.Calls”, and “Night.Charge”, we could use the <code>ggcorr</code> function as follows</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">variable_list</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"intl.mins"</span>,  <span class="st">"intl.calls"</span>,  <span class="st">"intl.charge"</span>, </span>
<span>                   <span class="st">"day.mins"</span>,   <span class="st">"day.calls"</span>,   <span class="st">"day.charge"</span>,</span>
<span>                   <span class="st">"eve.mins"</span>,   <span class="st">"eve.calls"</span>,   <span class="st">"eve.charge"</span>,</span>
<span>                   <span class="st">"night.mins"</span>, <span class="st">"night.calls"</span>, <span class="st">"night.charge"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cor_matrix</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">churn</span><span class="op">[</span>, <span class="va">variable_list</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/ggcorrplot/man/ggcorrplot.html">ggcorrplot</a></span><span class="op">(</span><span class="va">cor_matrix</span>, type <span class="op">=</span> <span class="st">"lower"</span>, lab <span class="op">=</span> <span class="cn">TRUE</span>, lab_size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="EDA_files/figure-html/unnamed-chunk-22-1.png" width="672" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/psych/man/pairs.panels.html">pairs.panels</a></span><span class="op">(</span><span class="va">churn</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"intl.mins"</span>, <span class="st">"intl.calls"</span>, <span class="st">"intl.charge"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/psych/man/pairs.panels.html">pairs.panels</a></span><span class="op">(</span><span class="va">churn</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"day.mins"</span>, <span class="st">"day.calls"</span>, <span class="st">"day.charge"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/psych/man/pairs.panels.html">pairs.panels</a></span><span class="op">(</span><span class="va">churn</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"eve.mins"</span>, <span class="st">"eve.calls"</span>, <span class="st">"eve.charge"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/psych/man/pairs.panels.html">pairs.panels</a></span><span class="op">(</span><span class="va">churn</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"night.mins"</span>, <span class="st">"night.calls"</span>, <span class="st">"night.charge"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> </span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-23-1.png" width="50%"><img src="EDA_files/figure-html/unnamed-chunk-23-2.png" width="50%"><img src="EDA_files/figure-html/unnamed-chunk-23-3.png" width="50%"><img src="EDA_files/figure-html/unnamed-chunk-23-4.png" width="50%"></p>
<p><strong>What would be your interpretation of the above correlation matrix plots?</strong></p>
<p><span style="color:blue"><strong>Solution:</strong></span></p>
<p>From the above correlation matrix we see that there are 4 problematic variables that shows perfect correlation (r=1.0) with another variable.</p>
<p>Namely, <code>night.charge</code> is perfectly linearly correlated with <code>night.mins</code>, which does not come as surprise, since the former is a function of <code>night.mins</code>. The same holds true for <code>eve.mins</code> and <code>eve.charge</code>, <code>day.mins</code> and <code>day.charge</code>, and lastly <code>intl.mins</code> and <code>intl.charge</code>.</p>
<p>Using correlated variables will overemphasize one data component, or at worst the data may become unstable and deliver unreliable results. Therefore we need to retain only one of the correlated variables. Furthermore, including highly correlated variables would result in multicollinearity which would result in unreliable regression model coefficients.</p>

</div>
</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="data-cleaning.html"><span class="header-section-number">3</span> Data Cleaning</a></div>
<div class="next"><a href="statistical-inference-and-hypothesis-testing.html"><span class="header-section-number">5</span> Statistical Inference and Hypothesis Testing</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#exploratory-data-analysis-1"><span class="header-section-number">4</span> Exploratory Data Analysis</a></li>
<li>
<a class="nav-link" href="#getting-to-know-that-data-set"><span class="header-section-number">4.1</span> Getting to know that data set</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#business-understanding-1"><span class="header-section-number">4.1.1</span> Business Understanding</a></li>
<li><a class="nav-link" href="#data-understanding"><span class="header-section-number">4.1.2</span> Data Understanding</a></li>
<li><a class="nav-link" href="#investigate-the-target-variable-churn"><span class="header-section-number">4.1.3</span> Investigate the target variable churn</a></li>
<li><a class="nav-link" href="#investigate-variable-international-plan"><span class="header-section-number">4.1.4</span> Investigate variable International Plan</a></li>
<li><a class="nav-link" href="#investigate-variable-voice-mail-plan"><span class="header-section-number">4.1.5</span> Investigate variable “voice mail plan”</a></li>
<li><a class="nav-link" href="#investigate-variable-customer-service-calls"><span class="header-section-number">4.1.6</span> Investigate variable “customer service calls”</a></li>
<li><a class="nav-link" href="#investigate-variable-day-minutes"><span class="header-section-number">4.1.7</span> Investigate variable “Day Minutes”</a></li>
<li><a class="nav-link" href="#investigate-variable-international-calls"><span class="header-section-number">4.1.8</span> Investigate variable “International Calls”</a></li>
<li><a class="nav-link" href="#detect-correlated-variables"><span class="header-section-number">4.1.9</span> Detect Correlated Variables</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/RezaMoammadi/Book-Data-Science/blob/master/EDA.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/RezaMoammadi/Book-Data-Science/edit/master/EDA.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Uncovering Data Science with R</strong>" was written by . It was last built on 2024-08-06.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
